<form class="program-form" [formGroup]="form" (submit)="handleSubmit($event)">
  <mat-form-field>
    <mat-label>Workout name</mat-label>
    <input matInput type="text" name="Name" formControlName="name" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Workout description</mat-label>
    <textarea
      matInput
      cdkTextareaAutosize
      #autosize="cdkTextareaAutosize"
      cdkAutosizeMinRows="1"
      cdkAutosizeMaxRows="10"
      formControlName="description"></textarea>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Experience level</mat-label>
    <mat-select matInput type="text" formControlName="experienceLevel">
      <mat-option *ngFor="let option of experienceLevels" value="{{ option }}">
        {{ option }}</mat-option
      >
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Image (insert image url)</mat-label>
    <input matInput type="text" name="ImageUrl" formControlName="imageUrl" />
  </mat-form-field>

  <mat-form-field>
    <mat-label>Exercises</mat-label>
    <mat-select
      matInput
      type="text"
      formControlName="workouts"
      multiple
      (selectionChange)="addSelectedExercise($event.value)">
      <mat-option *ngFor="let exercise of exercises" [value]="exercise.id">
        {{ exercise.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div>
    <h3>Selected exercises</h3>
    <div
      *ngFor="let exercise of selectedExercisesSetRep; let i = index"
      class="set-rep-container">
      <h3>{{ exercise.name }}</h3>
      <mat-form-field>
        <mat-label>Sets</mat-label>
        <input
          matInput
          type="number"
          formControlName="sets_{{ exercise.id }}" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Reps</mat-label>
        <input
          matInput
          type="number"
          formControlName="reps_{{ exercise.id }}" />
      </mat-form-field>
    </div>
  </div>

  <mat-form-field>
    <mat-label>Category</mat-label>
    <mat-select matInput type="text" formControlName="category" multiple>
      <mat-option *ngFor="let option of workoutCategories" value="{{ option }}">
        {{ option }}</mat-option
      >
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Tags</mat-label>
    <input matInput type="text" name="ImageUrl" formControlName="tags" />
  </mat-form-field>

  <button mat-flat-button color="accent" type="submit">Submit</button>
</form>
